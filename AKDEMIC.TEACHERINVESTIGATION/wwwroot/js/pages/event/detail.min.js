var InitApp=function(){var t=$("#guest_inscription input[name='EventId']").val(),n=window.location.href,i={guestInscription:{init:function(){$("#guest_inscription").validate({submitHandler:function(t,n){$("#btnRegisterAsGuest").addLoader(),n.preventDefault(),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(t){$("#inscription_modal").modal("hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#btnRegisterAsGuest").removeLoader()})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),$("#btnRegisterAsGuest").removeLoader()})).always((function(){$("#btnRegisterAsGuest").removeLoader()}))}})}},userInscription:{init:function(){$("#user_inscription").validate({submitHandler:function(t,i){$("#btnRegisterAsUser").addLoader(),i.preventDefault(),$.ajax({url:$(t).attr("action"),type:"POST",data:$(t).serialize()}).done((function(t){$("#inscription_modal").modal("hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#btnRegisterAsUser").removeLoader(),window.location.href=n})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),$("#btnRegisterAsUser").removeLoader()})).always((function(){$("#btnRegisterAsUser").removeLoader()}))}})}},init:function(){this.userInscription.init(),this.guestInscription.init()}},e={inscription:{clear:function(){$("#guest_inscription").length&&$("#guest_inscription").validate().resetForm(),$("#user_inscription").length&&$("#user_inscription").validate().resetForm(),$("#btnRegisterToEvent").removeLoader()},events:function(){$("#inscription_modal").on("hidden.bs.modal",(function(){e.inscription.clear()})),$("#guest_inscription input[name='Dni']").keypress((function(t){(46===t.which||t.which<48||t.which>57)&&t.preventDefault()})).on("paste",(function(t){t.preventDefault()})),$("#guest_inscription input[name='PhoneNumber']").keypress((function(t){(46===t.which||t.which<48||t.which>57)&&t.preventDefault()})).on("paste",(function(t){t.preventDefault()})),$("#btnLogin").on("click",(function(){window.location.href=`/login?ReturnUrl=/eventos/${t}/detalle`}))},init:function(){this.events()}},init:function(){this.inscription.init()}},s={init:function(){this.birthDate.init()},birthDate:{init:function(){$("#guest_inscription input[name='BirthDate']").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker})}}};return{init:function(){i.init(),e.init(),s.init()}}}();$((function(){InitApp.init()}));