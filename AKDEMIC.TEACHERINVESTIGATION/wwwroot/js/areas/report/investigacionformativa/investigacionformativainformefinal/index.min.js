var InitApp=function(){var t={reports:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:"/reporte/postulaciones".proto().parseURL(),type:"GET",dataType:"JSON",data:function(t){t.handler="Datatable"}},dom:"Bfrtip",buttons:["excel","pdf"],pageLength:30,orderable:[],columns:[{title:"Código de Convocatoria",data:"code"},{title:"Nombre de Convocatoria",data:"name"},{title:"Título del Proyecto",data:"projectTitle"},{title:"Nombre del Investigador",data:"fullName"},{title:"Estado de Revisión",data:"reviewStateText"}]},init:function(){t.reports.object=$("#data-table").DataTable(t.reports.options)},reload:function(){t.reports.object.ajax.reload()}},init:function(){t.reports.init()}},e={lang:function(){Highcharts.setOptions({lang:{contextButtonTitle:"Opciones",viewFullscreen:"Ver en pantalla completa",printChart:"Imprimir",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadPDF:"Descargar PDF",downloadSVG:"Descargar SVG",downloadCSV:"Descargar CSV",downloadXLS:"Descargar XLS",openInCloud:"Abrir editor online"}})},credits:{text:"Fuente: AKDEMIC",href:""},buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"]}},loadReport:function(){$("#chart-report-container").html(""),$("#chart-report-container").append('<div id="chart-report" class="chart"></div>'),$.ajax({url:"/reporte/postulaciones?handler=Chart",type:"GET"}).done((function(t){var a=t.categories.length,o=350;a>15&&(o=20*a),Highcharts.chart("chart-report",{chart:{height:o,events:{exportData:function(){for(var t=$("body").find(".highcharts-data-table"),e=$(".m-portlet").find(".highcharts-data-table").length;e<t.length;e++)$(t[e]).remove()}}},title:{text:"Cantidad de postulaciones por estado de revisión"},subtitle:{text:""},credits:e.credits,xAxis:{categories:t.categories,title:{text:"Estado de Revisión"}},yAxis:{min:0,title:{text:"Cantidad de Postulaciones"}},series:[{type:"column",name:"Cantidad",data:t.data,colorByPoint:!0,showInLegend:!1}],exporting:{showTable:!0,buttons:e.buttons}})})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error)}))},init:function(){e.lang(),e.loadReport()}};return{init:function(){e.init(),t.init()}}}();$((function(){InitApp.init()}));