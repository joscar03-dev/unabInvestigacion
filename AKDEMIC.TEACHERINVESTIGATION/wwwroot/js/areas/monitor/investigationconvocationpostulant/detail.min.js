var InitApp=function(){var t=$("#Input_InvestigationConvocationPostulantId").val(),e=function(){$("#monitorDocument-form").validate({submitHandler:function(t,e){$("#btnSaveMonitorDocument").addLoader(),e.preventDefault();let a=new FormData(t);$.ajax({url:$(t).attr("action"),type:"POST",data:a,contentType:!1,processData:!1}).done((function(){$(".modal").modal("hide"),$(".m-alert").addClass("m--hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#btnSaveMonitorDocument").removeLoader(),window.location.href=window.location.href})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),$("#btnSaveMonitorDocument").removeLoader()})).always((function(){}))}})},a={advance:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:`/monitor/postulaciones-investigacion/${t}/detalle`.proto().parseURL(),type:"GET",dataType:"JSON",data:function(t){t.handler="AdvanceDatatable",t.searchValue=$("#search").val()}},pageLength:50,orderable:[],columns:[{title:"Nombre de Avance",data:"name"},{title:"Fecha de Avance",data:"createdAt"},{title:"Archivo",data:null,orderable:!1,render:function(t){var e="";return e+=`<a href="${`/documentos/${t.filePath}`.proto().parseURL()}"  `,e+="class='btn btn-success ",e+="m-btn btn-sm m-btn--icon' download>",e+="<span><i class='flaticon-file'></i></a> "}}]},reload:function(){this.object.ajax.reload()},init:function(){this.object=$("#progressfileconvocationpostulant-datatable").DataTable(this.options)}},annexedFiles:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:`/monitor/postulaciones-investigacion/${t}/detalle`.proto().parseURL(),type:"GET",dataType:"JSON",data:function(t){t.handler="AnnexedFileDatatable",t.searchValue=$("#search").val()}},pageLength:50,orderable:[],columns:[{title:"Nombre de Anexo",data:"name"},{title:"Fecha de Subida",data:"createdAt"},{title:"Archivo",data:null,orderable:!1,render:function(t){var e="";return e+=`<a href="${`/documentos/${t.documentPath}`.proto().parseURL()}"  `,e+="class='btn btn-success ",e+="m-btn btn-sm m-btn--icon' download>",e+="<span><i class='flaticon-file'></i></span></a> "}}]},reload:function(){this.object.ajax.reload()},init:function(){this.object=$("#annexedFile-datatable").DataTable(this.options),this.events()},events:function(){$("#annexedFile-datatable").on("click",".btn-delete",(function(){var t=$(this).data("id");modal.annexedFiles.delete(t)}))}},techFiles:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:`/monitor/postulaciones-investigacion/${t}/detalle`.proto().parseURL(),type:"GET",dataType:"JSON",data:function(t){t.handler="TechnicalFileDatatable",t.searchValue=$("#search").val()}},pageLength:50,orderable:[],columns:[{title:"Nombre de Documento Tecnico",data:"name"},{title:"Fecha de Subida",data:"createdAt"},{title:"Archivo",data:null,orderable:!1,render:function(t){var e="";return e+=`<a href="${`/documentos/${t.filePath}`.proto().parseURL()}"  `,e+="class='btn btn-success ",e+="m-btn btn-sm m-btn--icon' download>",e+="<span><i class='flaticon-file'></i></a> "}}]},reload:function(){this.object.ajax.reload()},init:function(){this.object=$("#postulanttechnicalfile-datatable").DataTable(this.options)}},financialFiles:{object:null,options:{serverSide:!0,filter:!1,lengthChange:!1,ajax:{url:`/monitor/postulaciones-investigacion/${t}/detalle`.proto().parseURL(),type:"GET",dataType:"JSON",data:function(t){t.handler="FinancialFileDatatable",t.searchValue=$("#search").val()}},pageLength:50,orderable:[],columns:[{title:"Nombre de Documento Financiero",data:"name"},{title:"Fecha de Subida",data:"createdAt"},{title:"Archivo",data:null,orderable:!1,render:function(t){var e="";return e+=`<a href="${`/documentos/${t.filePath}`.proto().parseURL()}"  `,e+="class='btn btn-success ",e+="m-btn btn-sm m-btn--icon' download>",e+="<span><i class='flaticon-file'></i></a> "}}]},reload:function(){this.object.ajax.reload()},init:function(){this.object=$("#postulantfinancialfile-datatable").DataTable(this.options)}},init:function(){this.advance.init(),this.annexedFiles.init(),this.techFiles.init(),this.financialFiles.init()}};return{init:function(){a.init(),e()}}}();$((function(){InitApp.init()}));