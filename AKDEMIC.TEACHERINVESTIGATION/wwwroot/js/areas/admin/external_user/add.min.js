var add=function(){$("#main_form").validate({submitHandler:function(t,a){a.preventDefault();var n=new FormData(t);$("#main_form").find(":input").attr("disabled",!0),mApp.block("#main_form",{message:"Creando usuario..."}),$.ajax({url:"/admin/usuarios-externos/agregar?handler=Add",method:"post",data:n,contentType:!1,processData:!1}).done((function(t){swal({type:"success",title:"Completado",text:"Usuario creado satisfactoriamente.",confirmButtonText:"Aceptar",allowOutsideClick:!1}).then((function(t){t&&(location.href="/admin/usuarios-externos")}))})).fail((function(t){swal({type:"error",title:"Error",confirmButtonClass:"btn btn-danger m-btn m-btn--custom",confirmButtonText:"Aceptar",text:502===t.status?"No hay respuesta del servidor":t.responseText})})).always((function(){$("#main_form").find(":input").attr("disabled",!1),mApp.unblock("#main_form")}))}});return{init:function(){}}}();$((()=>{add.init()}));