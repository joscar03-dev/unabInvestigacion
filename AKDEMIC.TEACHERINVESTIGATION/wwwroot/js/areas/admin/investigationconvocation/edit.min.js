var InitApp=function(){var t=function(){$("#edit-form").validate({ignore:".note-editor *",submitHandler:function(t,n){$("#btnSave").addLoader(),n.preventDefault();let e=new FormData(t);$.ajax({url:$(t).attr("action"),type:"POST",data:e,contentType:!1,processData:!1}).done((function(){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),$("#btnSave").removeLoader()})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),$("#btnSave").removeLoader()})).always((function(){}))}})},n={init:function(){this.investigationConvocationDate.init()},investigationConvocationDate:{init:function(){$("#Input_InvestigationConvocationStartDate").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker}),$("#Input_InvestigationConvocationEndDate").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker}),$("#Input_InvestigationConvocationInscriptionStartDate").datetimepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datetimepicker}),$("#Input_InvestigationConvocationInscriptionEndDate").datetimepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datetimepicker}),$("#Input_InvestigationConvocationInquiryStartDate").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker}),$("#Input_InvestigationConvocationInquiryEndDate").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker}),$("#extension-form input[name='NewEndDate']").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker})}}},e={init:function(){this.allowInquiries.init()},allowInquiries:{init:function(){$("#Input_InvestigationConvocationAllowInquiries").bootstrapSwitch({onText:"S√ç",offText:"NO",onColor:"success",offColor:"danger"}),this.events(),$("#Input_InvestigationConvocationAllowInquiries").is(":checked")?$("#InquiryContainer").css("display","flex"):$("#InquiryContainer").css("display","none")},events:function(){$("#Input_InvestigationConvocationAllowInquiries").on("switchChange.bootstrapSwitch",(function(t){$(this).is(":checked")?$("#InquiryContainer").css("display","flex"):$("#InquiryContainer").css("display","none")}))}}},o={extensionstime:{create:{object:$("#extension-form").validate({submitHandler:function(t,n){$("#btnSave").addLoader(),n.preventDefault();let e=new FormData(t);$.ajax({url:$(t).attr("action"),type:"POST",data:e,contentType:!1,processData:!1}).done((function(){$(".modal").modal("hide"),$(".m-alert").addClass("m--hide"),toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),o.extensionstime.create.clear(),$("#btnSave").removeLoader(),window.location.href=window.location.href})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),$("#btnSave").removeLoader()})).always((function(){}))}}),show:function(){$("#btnSave").removeLoader(),$("#extensionModal").modal("toggle")},clear:function(){$("#extension-form").find(".custom-file-label").text("Seleccionar archivo"),o.extensionstime.create.object.resetForm()},events:function(){$("#extensionModal").on("hidden.bs.modal",(function(){o.extensionstime.create.clear()}))}},init:function(){this.create.events()}},init:function(){this.extensionstime.init()}},i=function(){$("#Input_InvestigationConvocationPictureFile").on("change",(function(t){var n=(t.target||window.event.srcElement).files;if(FileReader&&n&&n.length){var e=new FileReader;e.onload=function(){$("#current-picture").attr("src",e.result)},e.readAsDataURL(n[0])}else console.log("File Reader not supported.")}))},a=function(){$(".mv_summernote").summernote({lang:"es-ES",height:250,toolbar:[["style",["style"]],["font",["bold","italic","underline","strikethrough","superscript","subscript","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ol","ul","paragraph","height"]],["table",["table"]],["insert",["link","video","hr"]],["view",["undo","redo","fullscreen","codeview"]]]})};return{init:function(){t(),n.init(),e.init(),a(),o.init(),i()}}}();$((function(){InitApp.init()}));