var InitApp=function(){var t=function(){$("#edit-form").validate({submitHandler:function(t,n){$("#btnSave").addLoader(),n.preventDefault();let e=new FormData(t);$.ajax({url:$(t).attr("action"),type:"POST",data:e,contentType:!1,processData:!1}).done((function(){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),location.href="/admin/usuarios".proto().parseURL()})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),$("#btnSave").removeLoader()})).always((function(){}))}})},n={init:function(){this.roles.init()},roles:{init:function(){this.load()},load:function(){$.ajax({url:"/api/roles/select/get".proto().parseURL(),type:"GET"}).done((function(t){$("#Input_RolesId").select2({data:t}),n.roles.userRole()}))},userRole:function(){var t=$("#Input_UserId").val();mApp.block(".m-content",{type:"loader",message:"Cargando..."}),$.ajax({url:`/api/usuario-rol/${t}/select/get`.proto().parseURL()}).done((function(t){t.forEach((function(t){var n=new Option(t.text,t.id,!0,!0);$("#Input_RolesId").append(n).trigger("change")}))})).always((function(t){mApp.unblock(".m-content")}))}}},e=function(){$("#Input_BirthDate").datepicker({clearBtn:!0,orientation:"bottom",format:_app.constants.formats.datepicker})};return{init:function(){t(),e(),n.init()}}}();$((function(){InitApp.init()}));